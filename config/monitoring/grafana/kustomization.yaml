apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

labels:
  - includeSelectors: true
    pairs:
      app.kubernetes.io/component: aerospike-grafana
      app: aerospike-monitoring-stack-grafana

resources:
  - statefulset.yaml
  - pvc.yaml
  - service.yaml
  - dashboards

configMapGenerator:
  - name: aerospike-monitoring-stack-grafana-provisioning-datasources
    files:
      - config/aerospike_grafana_datasource.yaml
  - name: aerospike-monitoring-stack-grafana-config
    files:
      - config/grafana.ini
  - name: grafana-dashboards
    files:
      - config/aerospike_grafana_dashboards_config.yaml

generatorOptions:
  disableNameSuffixHash: true
